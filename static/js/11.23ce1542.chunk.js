(this["webpackJsonpfront-end-bonded-finance"]=this["webpackJsonpfront-end-bonded-finance"]||[]).push([[11],{1042:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(731),r=n(59),c=n(1161),o=n(986),i=n(498);const s=Object(i.a)((()=>({rootContainer:{fontFamily:"Mulish",fontSize:18,color:"white",textAlign:"center",lineHeight:"24px",paddingBottom:20},title:{fontWeight:"700"},line2:{},line3:{},line4:{fontSize:14,"& a":{color:"#29b6f6","&:hover":{color:"#2979ff"}}},progressBarContainer:{height:"auto",margin:"0 auto",marginTop:10,maxWidth:550},progressBar:{},progressBarPercent:{marginTop:5,fontSize:14,color:"#AECEA1",textAlign:"start"}})));var l=n(1);const d=Object(r.a)(c.a)((e=>{let{theme:t}=e;return{height:30,borderRadius:5,["&.".concat(o.a.colorPrimary)]:{backgroundColor:t.palette.grey["light"===t.palette.mode?200:800]},["& .".concat(o.a.bar)]:{borderRadius:5,backgroundColor:"green"}}}));var b=()=>{const e=s(),t=window.innerWidth<550?"&nbsp;&nbsp;":"&nbsp;&nbsp;&nbsp;&nbsp;",n="          \ud83e\udd73 \ud83e\udd73 100% target reached  \ud83c\udf89 \ud83c\udf89".replace(/^ +/,(e=>e.replace(/ /g,t)));return Object(l.jsxs)(a.a,{className:e.rootContainer,children:[Object(l.jsx)(a.a,{className:e.title,children:"Fringe rewards program"}),Object(l.jsx)(a.a,{className:e.line2,children:"Milestone 1. 'Seeds of Prosperity'. Lender TVL target 250k USD"}),Object(l.jsx)(a.a,{className:e.line3,children:""}),Object(l.jsxs)(a.a,{className:e.progressBarContainer,children:[Object(l.jsx)(a.a,{className:e.progressBar,children:Object(l.jsx)(d,{variant:"determinate",value:"100"})}),Object(l.jsx)(a.a,{className:e.progressBarPercent,dangerouslySetInnerHTML:{__html:n}})]}),Object(l.jsx)(a.a,{className:e.line4,dangerouslySetInnerHTML:{__html:"Rewards will be airdropped when milestone is reached & after cooldown. <a href='https://fringefinance.medium.com/introducing-fringe-finance-v2-incentive-program-7077a02aa115' target='_blank'>Learn more</a>"}})]})}},1472:function(e,t,n){"use strict";n.r(t);var a=n(502),r=n(731),c=n(53),o=n(929),i=n(48),s=n(361),l=n.n(s),d=n(917),b=n(907);const j=[{symbol:"USDC",apy:"0",balanceOf:"0",balanceInUsd:"0",balanceOfUnderlyingView:"0",logo:"/assets/coins_list/usd-coin.svg",priceInfo:{price:"0"}},{symbol:"USB",apy:"0",balanceOf:"0",balanceInUsd:"0",balanceOfUnderlyingView:"0",logo:"/assets/images/usb_token.png",priceInfo:{price:"0"}}];var u=n(727),p=n(823),g=n(354),m=n(0),h=n(39),O=n(136),f=n(8),x=n(357),y=n(824),v=n(498),k=n(70),w=n(35),T=n(167),C=n(78),M=n(25),N=n(49);var S=n(6),R=n(987),F=n(1);const B=Object(m.createContext)(null),L=e=>{let{children:t}=e;const n=Object(R.a)(),{isError:a,isLoading:r}=n,{account:c}=Object(i.c)();return Object(F.jsx)(B.Provider,{value:{userFToken:Object(S.get)(n,"data.fWallet",[]),refetch:Object(S.get)(n,"refetch",(()=>{})),isError:a,isLoading:c&&!n.isFetched||r},children:t})},I=()=>Object(m.useContext)(B);n(370);var P=n(13),A=n(20),E=n(267),U=n(80),D=n(169),V=n(83),W=n(180),q=n(182);const{ContractName:H}=n(24),{PriceContractMethod:z}=n(15),{generateMulticallRequest:G}=n(29),{getDataToUpdatePrice:_}=n(40),{handleGetPriceInUsd:Y}=n(189);var Q=()=>{const{loading:e,projectTokenList:t,availableBorrowTokens:n}=Object(q.c)(),{chainId:a,account:r}=Object(i.c)(),{callRequest:c}=Object(W.a)(),{PriceContract:o}=Object(V.a)(),s=t.map((e=>e.address)).sort().join(",");return Object(M.useQuery)(["price-of-tokens",r,s,a],(async()=>{const e=[],a=[...t],r=Array.from(new Set([...n,...a].map((e=>e.address)))),{priceIds:i,updateData:s,payableAmount:l}=await _(r,o);for(let t=0;t<a.length;t+=1){const n=a[t];e.push(G(o,z.getUpdatedPriceMethod,[n.address,i,s],n.address,H.PriceContract,l))}for(let t=0;t<n.length;t+=1){const n=a[t];e.push(G(o,z.getUpdatedPriceMethod,[n.address,i,s],n.address,H.PriceContract,l))}const d=await c(e);return[...a,...n].reduce(((e,t)=>{const{priceCollateralTokenBN:n,priceLendingTokenBN:a,priceDecimal:r}=Y(d,t.address);return{...e,[t.address]:{[U.a.COLLATERAL]:Object(P.a)(n,r),[U.a.LENDING]:Object(P.a)(a,r)}}}),{})}),{retry:3,enabled:!!o&&!e&&!!r&&!(null===t||void 0===t||!t.length)&&!(null===n||void 0===n||!n.length)&&!!a})};const J=Object(v.a)((e=>({rootContainer:{minWidth:400,color:e.palette.primary.main,paddingLeft:0,paddingRight:0,width:429,[e.breakpoints.down("sm")]:{display:"flex",flexDirection:"column",minWidth:"100%",height:"100%",width:"100%"}},contentInner:{position:"relative",backgroundColor:"#F8F8F8",[e.breakpoints.down("sm")]:{flex:1}},dialogTotal:{width:"100%",backgroundColor:"#333333"}})));var Z=e=>{let{data:t,onClose:n}=e;const{name:o,apy:s,lendingTokenBalance:l,symbol:d,logo:b,token:j,decimal:u,ftoken:p,underlyingTokens:g}=t,{data:h,isLoading:O}=(e=>{const{provider:t}=Object(i.c)();return Object(M.useQuery)(["get-cash",e],(async()=>{if(!e)return"0";const n=new C.b(e,N.d,t);return await n.getCash()}))})(p),f=J(),{connected:x,chainId:v}=Object(i.c)(),[S,R]=Object(m.useState)(""),{refetch:B}=I(),{data:{GatewayInstance:L}}=Object(D.a)(),{isLoading:V,redeemUnderlying:W}=Object(T.b)({name:o,amount:S,kind:k.f.withdraw}),{approve:q,query:{data:H,refetch:z},isLoading:G}=Object(E.a)(j,null===L||void 0===L?void 0:L.address),{data:_,isLoading:Y}=Q(),Z=Object(m.useMemo)((()=>V||O||G||Y),[G,O,V,Y]),K=Object(m.useMemo)((()=>Object(P.b)([w.a.from(h||0),Object(P.d)(l,u)])),[l,h,u]),X=Object(m.useMemo)((()=>Object(P.a)(K||0,u)),[u,K]),$=!x||!S||0===Number(S)||Number(S)>Number(X),ee=Object(m.useMemo)((()=>Object(A.g)(j,v)),[v,j]),te=Object(m.useMemo)((()=>!!ee&&(!H||Number(Object(P.a)(H,u))<S)),[u,H,S,ee]);return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(c.g,{logoUrl:b,name:d,underlyingTokens:g}),Z&&Object(F.jsx)(c.v,{position:"absolute",color:"success"}),Object(F.jsxs)(r.a,{pt:5,p:0,className:f.rootContainer,children:[Object(F.jsx)(c.o,{value:S,onChange:R,maxValue:X,decimalScale:k.e,addressToken:j,decimalToken:u,tokenType:U.a.LENDING,priceOfTokens:_}),Object(F.jsx)(r.a,{className:f.contentInner,mt:2,children:Object(F.jsx)(r.a,{py:2,px:2,children:Object(F.jsxs)(y.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(F.jsx)(y.a,{item:!0,md:6,children:"Supply APY"}),Object(F.jsx)(y.a,{item:!0,children:Object(F.jsx)(a.a,{color:"primary",children:Object(F.jsx)(c.n,{value:s,suffix:"%"})})})]})})}),Object(F.jsxs)(r.a,{children:[te?Object(F.jsx)(c.f,{disabled:$,onClick:async()=>{await q({value:Object(P.d)("".concat(S||0),u)}),z()},children:"Enable"}):Object(F.jsx)(c.f,{disabled:$,onClick:async()=>{try{await W({lendingTokenAmount:Object(P.d)("".concat(S||0),u),address:j}),B(),n()}finally{R("")}},children:"Withdraw"}),Object(F.jsxs)(r.a,{py:1,className:f.dialogTotal,children:[Object(F.jsx)(c.h,{title:"Available To Withdraw",value:X,currency:d,type:"withdraw"}),Object(F.jsx)(c.h,{title:"Supplied Amount",value:Number(l),currency:d,type:"withdraw"})]})]})]})]})},K=n.p+"static/media/footer-icon.77f1aad5.svg";const X=Object(m.createContext)(),$=Object(v.a)((e=>({rootContainer:{minWidth:400,color:e.palette.primary.main,paddingLeft:0,paddingRight:0,width:429,[e.breakpoints.down("sm")]:{display:"flex",flexDirection:"column",minWidth:"100%",height:"100%",width:"100%"}},contentInner:{position:"relative",backgroundColor:"#F8F8F8",[e.breakpoints.down("sm")]:{flex:1}}})));var ee=e=>{let{data:t,onClose:n,openShare:o}=e;const{name:s,balance:l,allowance:d,apy:b,symbol:j,logo:u,lendingToken:p,ftoken:g,token:O,decimal:f,allowanceAmount:x,underlyingTokens:v}=t,{setShareData:w}=Object(m.useContext)(X),C=$(),{refetch:M}=I(),{connected:N}=Object(i.c)(),[S,R]=Object(m.useState)(""),{isLoading:B,approve:L,supply:A}=Object(T.b)({name:s,amount:S,kind:k.f.deposit}),{data:E,isLoading:D}=Q(),V=Object(m.useMemo)((()=>Object(P.a)(x,f)),[x,f]),W=l,q=!N||D||!S||0===Number(S)||Number(S)>Number(W);return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(c.g,{logoUrl:u,name:j,underlyingTokens:v}),B&&Object(F.jsx)(c.v,{position:"absolute",color:"success"}),Object(F.jsxs)(r.a,{pt:5,p:0,className:C.rootContainer,children:[Object(F.jsx)(c.o,{value:S,onChange:R,maxValue:W,decimalScale:36,addressToken:O,decimalToken:f,tokenType:U.a.LENDING,priceOfTokens:E}),Object(F.jsx)(r.a,{className:C.contentInner,mt:2,children:Object(F.jsx)(r.a,{py:2,px:2,children:Object(F.jsxs)(y.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(F.jsx)(y.a,{item:!0,md:6,children:Object(F.jsx)(c.c,{logoUrl:K,children:"Supply APY"})}),Object(F.jsx)(y.a,{item:!0,children:Object(F.jsx)(a.a,{color:"primary",children:Object(F.jsx)(c.n,{value:b,suffix:"%"})})})]})})}),Object(F.jsxs)(r.a,{children:[d&&Number(V)>=Number(S)?Object(F.jsx)(c.f,{disabled:q,onClick:async()=>{try{const e=Object(P.d)(Object(h.b)(S),f).toString();await A({lendingTokenAmount:e,address:p}),n(),M(),w({token:O,amount:S,apy:b,colToken:s}),o()}catch(e){console.log(e)}finally{R("")}},children:"Deposit"}):Object(F.jsx)(c.f,{disabled:!N,onClick:()=>{const e=Object(P.d)(Object(h.b)(S),f).toString();L({address:p,ftoken:g,value:e})},children:"Enable"}),Object(F.jsx)(c.h,{title:"Wallet Balance",value:l,currency:j})]})]})]})};const te=[{Header:()=>Object(F.jsx)(u.a,{title:"List of assets that can be lent on the platform to earn interest. ",arrow:!0,placement:"top",children:Object(F.jsx)(r.a,{display:"inline",children:"Asset"})}),accessor:"name",props:{width:140},Cell:e=>{let{value:t,row:{original:{underlyingTokens:n,symbol:a,address:r,name:o}}}=e;return Object(F.jsx)(c.c,{link:"/borrowing/".concat(2===(null===n||void 0===n?void 0:n.length)?"".concat(n[0].symbol,"-").concat(n[1].symbol):a),whiteBg:Object(h.e)(a),address:r,name:o,symbol:a,underlyingTokens:n,children:a})}},{Header:()=>Object(F.jsx)(u.a,{title:"Current Annual Percentage Yield for each capital asset. Each capital asset has a separate market. Prevailing lender deposits vs borrower demand affects the market's APY.",arrow:!0,placement:"top",children:Object(F.jsx)(r.a,{display:"inline",children:"Supply APY"})}),accessor:"apy",props:{width:100},Cell:e=>{let{value:t}=e;return Object(F.jsx)(c.n,{value:t,precision:2,suffix:"%"})}},{Header:()=>Object(F.jsx)(u.a,{title:"Token count and value of your interest-earning deposits.",arrow:!0,placement:"top",children:Object(F.jsx)(r.a,{display:"inline",children:"Supplied"})}),accessor:"balanceOfUnderlyingView",props:{width:100},Cell:e=>{let{value:t,row:{original:{priceInfo:n}}}=e;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(c.n,{value:t,precision:4}),Object(F.jsx)(r.a,{style:{color:"#A5A8B6"},children:Object(F.jsx)(c.n,{value:Number((null===n||void 0===n?void 0:n.price)||0)*Number(t).toFixed(9),precision:4,moneyValue:!0})})]})}},{Header:()=>Object(F.jsx)(u.a,{title:"Token count and value held in your external wallet.",arrow:!0,placement:"top",children:Object(F.jsx)(r.a,{display:"inline",children:"Wallet Balance"})}),accessor:"balance",props:{width:150},Cell:e=>{let{value:t,row:{original:{balanceInUsd:n}}}=e;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(c.n,{value:t,precision:4}),Object(F.jsx)(r.a,{style:{color:"#A5A8B6"},children:Object(F.jsx)(c.n,{value:Number(n).toFixed(9),precision:2,moneyValue:!0})})]})}}];var ne=e=>{let{dataSource:t=[]}=e;const n=Object(O.d)(),[a,o]=Object(m.useState)(),[s,l]=Object(m.useState)(),[d,b]=Object(m.useState)(!1),{account:j}=Object(i.c)(),[u,h]=Object(m.useState)({token:"",amount:"",apy:"",colToken:""}),y=()=>{o(null),l(null)};Object(m.useEffect)((()=>{if(!t)return;if(!a)return;const e=t.find((e=>{let{lendingToken:t}=e;return t===a.lendingToken}));e&&o(e)}),[t,a]),Object(m.useEffect)((()=>{o(void 0),l(void 0)}),[j]);const v=Object(m.useMemo)((()=>[...te,{Header:"",accessor:"button",props:{align:"right",width:50},Cell:e=>{let{row:{original:t}}=e;return Object(F.jsxs)(r.a,{className:n.actionButtonWrapper,children:[Object(F.jsx)(p.a,{className:n.actionButton,fullWidth:!0,onClick:()=>{o(t)},style:{marginRight:16,height:36,width:80},children:"Deposit"}),Object(F.jsx)(p.a,{className:n.actionButton,fullWidth:!0,onClick:()=>{l(t)},style:{height:36,width:80},children:"Withdraw"}),Object(F.jsx)(x.a,{address:null===t||void 0===t?void 0:t.address,symbol:null===t||void 0===t?void 0:t.symbol,underlyingTokens:null===t||void 0===t?void 0:t.underlyingTokens})]})}}]),[n.actionButton,n.actionButtonWrapper]);return Object(F.jsxs)(X.Provider,{value:{shareData:u,setShareData:h},children:[Object(F.jsx)("div",{className:n.flexCenter,children:Object(F.jsxs)(g.a,{className:Object(f.default)(n.table,n.w70),children:[Object(F.jsx)(c.p,{children:"Lending Assets"}),Object(F.jsx)(r.a,{mt:2,children:Object(F.jsx)(c.w,{columns:v,data:t})}),j&&Object(F.jsxs)(F.Fragment,{children:[a&&Object(F.jsx)(c.e,{open:a,onClose:y,noPadding:!0,children:Object(F.jsx)(ee,{data:{...a},onClose:y,openShare:()=>b(!0)})}),s&&Object(F.jsx)(c.e,{open:s,onClose:y,noPadding:!0,children:Object(F.jsx)(Z,{data:{...s,lendingTokenBalance:s.balanceOfUnderlyingView},onClose:y})})]})]})}),Object(F.jsx)(c.u,{open:d,onCloseModal:()=>{b(!1)},data:u,type:"lending"})]})},ae=n(1480),re=n(1042),ce=n(1162),oe=n(27),ie=n.n(oe),se=n(71),le=n(15);const de=Object(v.a)((e=>({title:{fontSize:16,fontFamily:"Mulish",lineHeight:"21px",color:"#434849"},subTitle:{fontSize:26,fontFamily:"Mulish",lineHeight:"36px",color:"#AFB0B1",marginTop:e.spacing(2)},divider:{backgroundColor:"#434849",marginLeft:20,marginRight:20,[e.breakpoints.down("sm")]:{display:"none"}},container:{marginTop:e.spacing(2),marginBottom:e.spacing(2),marginRight:20,"& > .MuiGrid-item":{paddingTop:0,paddingBottom:0},[e.breakpoints.down("sm")]:{marginRight:0}},price:{fontSize:52,fontFamily:"Mulish",marginTop:e.spacing(1),lineHeight:"64px",[e.breakpoints.down("sm")]:{fontSize:32}},priceTitle:{fontFamily:"Mulish",[e.breakpoints.down("sm")]:{textAlign:"center"}}})));var be=()=>{const{userFToken:e}=I(),t=Object(m.useMemo)((()=>Object(S.sumBy)(e,(e=>{const t=Object(S.get)(e,"priceInfo.price","0"),n=Object(S.get)(e,le.FTokenMethod.balanceOfUnderlyingView,"0");return new ie.a(n).multipliedBy(t).toNumber()}))),[e]),n=de(),{isConnected:r}=Object(se.c)();return Object(F.jsxs)(y.a,{item:!0,container:!0,spacing:6,sx:12,className:n.container,children:[Object(F.jsxs)(y.a,{item:!0,children:[Object(F.jsx)(u.a,{title:"Total value of all your deposited capital assets.",arrow:!0,placement:"top",children:Object(F.jsx)(a.a,{color:"secondary",variant:"h6",className:n.priceTitle,children:"Deposited Total Value"})}),Object(F.jsx)(a.a,{color:"secondary",className:n.price,children:Object(F.jsx)(c.n,{value:r?t:0,moneyValue:!0})})]}),Object(F.jsx)(ce.a,{orientation:"vertical",flexItem:!0,className:n.divider})]})},je=n(840);const ue=Object(v.a)((e=>({container:{marginTop:e.spacing(2),marginBottom:e.spacing(2),"& > .MuiGrid-item":{paddingTop:0,paddingBottom:0}},divider:{backgroundColor:"#434849",marginLeft:20,marginRight:20},title:{fontSize:16,fontFamily:"Mulish",lineHeight:"21px",color:"#434849"},priceTitle:{fontFamily:"Mulish"}})));var pe=()=>{const e=ue();return Object(F.jsxs)(y.a,{item:!0,container:!0,spacing:6,className:e.container,alignItems:"center",children:[Object(F.jsxs)(y.a,{item:!0,children:[Object(F.jsx)(u.a,{title:"Total value of all your deposited capital assets.",arrow:!0,placement:"top",children:Object(F.jsx)(a.a,{color:"secondary",variant:"h6",className:e.priceTitle,children:"Deposited Total Value"})}),Object(F.jsx)(r.a,{width:"100%",mt:2,children:Object(F.jsx)(je.a,{animation:"wave",variant:"rect",width:"100%",height:65})})]}),Object(F.jsx)(ce.a,{orientation:"vertical",flexItem:!0,className:e.divider})]})};n(1483);Object(v.a)((e=>({progressValues:e=>{let{progressValue:t}=e;return{position:"absolute",left:"".concat(t,"%"),top:-16}},progressValueText:{fontSize:18,fontWeight:600,lineHeight:"23px",marginLeft:6},progressValueSmallText:{fontSize:14,fontWeight:500,lineHeight:"18px",marginTop:e.spacing(2),marginLeft:6},root:{color:"transparent",height:2,padding:"15px 0",position:"relative","&:before, &:after":{content:"''",position:"absolute",display:"inline-block",borderStyle:"solid",paddingTop:8,paddingBottom:8,borderColor:e.palette.primary.light,borderWidth:"0 0 0 1px",top:8},"&:before":{left:0},"&:after":{right:0}},thumb:{height:65,marginTop:-32,width:1,borderRight:"1px solid ".concat(e.palette.secondary.main),borderRadius:0,marginLeft:0},active:{},valueLabel:{left:"calc(-50% + 6px)",top:4,fontSize:18,fontWeight:600,lineHeight:"23px","& *":{background:"transparent",color:"#fff"}},track:{height:65,marginTop:-32,background:"linear-gradient(358.85deg, rgba(236, 51, 59, 0.21) 0.95%, rgba(236, 51, 59, 0) 98.98%)"},rail:{height:2,opacity:.5,backgroundColor:e.palette.primary.light},mark:{backgroundColor:"#bfbfbf",height:4,width:1,marginTop:-3},markActive:{opacity:1,backgroundColor:"currentColor"}})));const ge=()=>{const{account:e}=Object(i.c)(),{isLoading:t,data:n,isError:o,userFToken:s}=I(),{data:l,isLoading:d}=Object(q.d)();return Object(F.jsxs)(r.a,{my:3,children:[Object(F.jsx)(r.a,{children:Object(F.jsx)("h1",{children:"Earn interest lending out your crypto assets"})}),Object(F.jsx)(re.a,{}),Object(F.jsx)(ae.a,{container:!0,justifyContent:"center",children:Object(F.jsx)(ae.a,{item:!0,md:6,children:t?Object(F.jsx)(pe,{}):Object(F.jsx)(be,{accountData:null===n||void 0===n?void 0:n.accountData})})}),Object(F.jsx)(r.a,{mt:3,children:Object(F.jsx)(ae.a,{container:!0,sx:{display:{xs:"block",md:"flex"}},justifyContent:"center",children:Object(F.jsx)(ae.a,{item:!0,md:10,children:o?Object(F.jsxs)(F.Fragment,{children:[" ",Object(F.jsx)(a.a,{color:"error",variant:"h6",children:"Loading Data Error"})]}):Object(F.jsxs)(F.Fragment,{children:[!e&&d&&Object(F.jsx)(r.a,{border:"1px solid #434849",children:Object(F.jsx)(c.x,{rows:3})}),!e&&!d&&Object(F.jsx)(ne,{dataSource:l?l.lendingTokens:j}),t&&e&&Object(F.jsx)(r.a,{border:"1px solid #434849",children:Object(F.jsx)(c.x,{rows:3})}),!t&&e&&Object(F.jsx)(ne,{dataSource:s})]})})})})]})};var me=Object(o.a)((()=>Object(F.jsx)(b.a,{children:Object(F.jsxs)(L,{children:[Object(F.jsxs)(l.a,{children:[Object(F.jsx)("title",{children:"Earn interest lending out your crypto assets | Fringe Finance"}),Object(F.jsx)("meta",{name:"description",content:"Earning by lending USDC stablecoins and other assets is easy! Generate passive income by providing capital to a secure non-custodial DeFi platform."}),Object(F.jsx)("meta",{property:"og:title",content:"Earn consistently high interest by lending USDC stablecoins."}),Object(F.jsx)("meta",{property:"og:description",content:"Earning by lending USDC stablecoins and other assets is easy! Generate passive income by providing your capital to a secure DeFi platform."}),Object(F.jsx)("meta",{property:"og:image",content:d.a})]}),Object(F.jsx)(ge,{})]})})));t.default=me},907:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(15),r=n(78),c=n(35),o=n(27),i=n.n(o),s=n(13),l=n(195),d=n(180),b=n(30),j=n(6),u=n(25),p=n(49),g=n(29),m=n(20),h=n(24),O=n(0),f=n(259),x=n(116),y=n(83);const v=e=>{let{contractRefs:t=[],methodName:n,resultInRaw:a}=e;return Object(j.flatten)(t.map((e=>{const t=Object(j.get)(a,[e],[]),r=Object(j.groupBy)(t,"methodName");return[...Object(j.get)(r,n,[])].map((e=>({...e,contractAddress:e.contract.address})))})))},k=()=>{const{availableBorrowTokens:e}=Object(l.a)(),{account:t,chainId:n,provider:o}=Object(b.a)(),{callRequest:k,multiCallSMC:w}=Object(d.a)(),{PriceContract:T}=Object(y.a)(),{data:{PitContract:C}}=Object(x.a)(),M=Object(O.useMemo)((()=>e.map((e=>e.address))),[e]),{refetch:N}=Object(f.a)(M),S=Object(u.useQuery)(["f-token-info",t,n,M.sort().toString()],(async()=>{var l;const{data:d}=await N(),b=await(async e=>{let{availableBorrowTokens:t,account:n,PriceContract:c,MultiCallContract:o,pythData:i}=e;const s=[Object(g.generateMulticallRequest)(o,a.MulticallMethod.getEthBalance,[n],o.address,h.ContractName.MultiCallContract)],l=[];for(let d=0;d<t.length;d+=1){const e=t[d],o=new r.b(e.address,p.b),b=[Object(g.generateMulticallRequest)(o,a.ERC20TokenMethod.balanceOf,[n],o.address,o.address),Object(g.generateMulticallRequest)(o,a.ERC20TokenMethod.decimals,[],o.address,o.address),Object(g.generateMulticallRequest)(o,a.ERC20TokenMethod.name,[],o.address,o.address),Object(g.generateMulticallRequest)(o,a.ERC20TokenMethod.symbol,[],o.address,o.address)];s.push(...b),l.push(Object(g.generateMulticallRequest)(c,a.PriceContractMethod.getUpdatedPriceMethod,[e.address,null===i||void 0===i?void 0:i.priceIds,null===i||void 0===i?void 0:i.updateData],e.address,h.ContractName.PriceContract,null===i||void 0===i?void 0:i.payableAmount))}return[...s,...l]})({PitContract:C,availableBorrowTokens:e,account:t,provider:o,PriceContract:T,MultiCallContract:w,pythData:d}),u=await k(b),O=null===(l=v({contractRefs:[h.ContractName.MultiCallContract],methodName:a.MulticallMethod.getEthBalance,resultInRaw:u}).map((e=>{const t=Object(j.get)(e,["returnValues",0],c.a.from(0));return{formatted:Object(s.c)(t/10**18),value:t}}))[0])||void 0===l?void 0:l.formatted,f=v({contractRefs:[h.ContractName.PriceContract],methodName:a.PriceContractMethod.getUpdatedPriceMethod,resultInRaw:u}).map((e=>{const t=Object(j.get)(e,["returnValues",0],0),n=Object(j.get)(e,["returnValues",3],0),a=Object(j.get)(e,["reference"],"");return{price:Object(s.a)(n,t),lendingToken:a}})),x=e.map((e=>({lendingToken:e.address,ftoken:e.fTokenAddress}))),y=v({contractRefs:e.map((e=>e.address)),methodName:a.ERC20TokenMethod.decimals,resultInRaw:u}).map((e=>({token:Object(j.get)(e,"contractAddress",""),value:c.a.from(Object(j.get)(e,["returnValues"],"")).toString()})));return{fTokens:x,balanceOfLendingToken:v({contractRefs:e.map((e=>e.address)),methodName:a.ERC20TokenMethod.balanceOf,resultInRaw:u}).map(((t,a)=>{const r=Object(j.get)(t,"contractAddress",""),c=Object(m.g)(r,n)?O:Object(s.a)(Object(j.get)(t,["returnValues",0],""),y[a].value),o=f.find((e=>e.lendingToken===r)),l=e.find((e=>e.address===r));return{token:r,balance:c,balanceInUsd:new i.a(c).multipliedBy(null===o||void 0===o?void 0:o.price).toString(),decimal:y[a].value,priceInfo:o,...Object(m.h)(l,n)}})),priceLendingToken:f}}),{enabled:!Object(j.isEmpty)(e)&&!!C&&!!T});return S};var w=n(255),T=n(1);const C=e=>{let{children:t}=e;const n=k();return Object(T.jsx)(w.a.Provider,{value:n,children:t})}},917:function(e,t,n){"use strict";t.a=n.p+"static/media/meta-img.0f90e844.png"},929:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(824),r=n(498),c=n(1476),o=n(70),i=n(53),s=n(200),l=n(907),d=n(48),b=n(1);const j=Object(r.a)({alert:{justifyContent:"center"}});var u=e=>()=>{const t=j(),{connected:n,account:r,connecting:u,isNetworkUnsupported:p}=Object(d.c)();return r&&n?n&&p?Object(b.jsx)(a.a,{container:!0,justifyContent:"center",children:Object(b.jsx)(a.a,{item:!0,md:4,children:Object(b.jsx)(c.a,{variant:"filled",severity:"error",icon:!1,className:t.alert,children:o.b})})}):u?Object(b.jsx)(i.v,{}):Object(b.jsx)(s.a,{children:Object(b.jsx)(l.a,{children:Object(b.jsx)(e,{})})}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(e,{})})}},987:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(27),r=n.n(a),c=n(255),o=n(15),i=n(13),s=n(48),l=n(195),d=n(180),b=n(6),j=n(25),u=n(49),p=n(78),g=n(35),m=n(29);const h=()=>{const e=Object(c.b)(),{isLoading:t,availableBorrowTokens:n,APY:a}=Object(l.a)(),{account:h,chainId:O,provider:f}=Object(s.c)(),{callRequest:x}=Object(d.a)();return Object(j.useQuery)(["#User-F-Token-Balance-lending",h,O],(async()=>{const t=await e.refetch(),n=[...Object(b.get)(t,["data","fTokens"],[])],c=[...Object(b.get)(t,["data","balanceOfLendingToken"],[])];return{fWallet:(await(async()=>{const e=[];n.forEach((t=>{const n=new p.b(t.lendingToken,u.b,f),a=new p.b(t.ftoken,u.q,f);e.push(Object(m.generateMulticallRequest)(n,o.ERC20TokenMethod.allowance,[h,t.ftoken],n.address,n.address),Object(m.generateMulticallRequest)(a,o.FTokenMethod.decimals,[],a.address,a.address),Object(m.generateMulticallRequest)(a,o.FTokenMethod.balanceOfUnderlyingView,[h],a.address,a.address),Object(m.generateMulticallRequest)(a,o.FTokenMethod.balanceOf,[h],a.address,a.address),Object(m.generateMulticallRequest)(a,o.FTokenMethod.supplyRatePerBlock,[],a.address,a.address))}));const t=await x(e);return Object(b.map)(n,(e=>{var n;const s=Object(b.get)(t,[e.ftoken]),l=Object(b.get)(t,[e.lendingToken,0,"returnValues",0],0),d=s.reduce(((e,t)=>({...e,[Object(b.get)(t,"methodName","")]:Object(i.a)(Object(b.get)(t,["returnValues",0],0),0)})),{}),j=c.find((t=>t.token===e.lendingToken));return{...d,...e,[o.FTokenMethod.balanceOf]:Object(i.a)(d[o.FTokenMethod.balanceOf]||0,(null===j||void 0===j?void 0:j.decimal)||0),[o.FTokenMethod.balanceOfUnderlyingView]:Object(i.a)(d[o.FTokenMethod.balanceOfUnderlyingView]||0,(null===j||void 0===j?void 0:j.decimal)||0),apy:(null===(n=[...Object(b.get)(a,"lender_apy",[])].find((t=>t.lendingTokenAddress===e.lendingToken)))||void 0===n?void 0:n.amount)||0,allowance:!new r.a(l).isZero(),allowanceAmount:g.a.from(l)}}))})()).map((e=>({...e,...c.find((t=>t.token===e.lendingToken))})))}}),{enabled:!e.isLoading&&!!e.data&&!t&&!Object(b.isEmpty)(n)&&!Object(b.isEmpty)(h)})}}}]);
//# sourceMappingURL=11.23ce1542.chunk.js.map