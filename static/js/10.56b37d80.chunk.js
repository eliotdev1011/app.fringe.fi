(this["webpackJsonpfront-end-bonded-finance"]=this["webpackJsonpfront-end-bonded-finance"]||[]).push([[10],{1042:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(731),i=a(59),o=a(1161),s=a(986),r=a(498);const l=Object(r.a)((()=>({rootContainer:{fontFamily:"Mulish",fontSize:18,color:"white",textAlign:"center",lineHeight:"24px",paddingBottom:20},title:{fontWeight:"700"},line2:{},line3:{},line4:{fontSize:14,"& a":{color:"#29b6f6","&:hover":{color:"#2979ff"}}},progressBarContainer:{height:"auto",margin:"0 auto",marginTop:10,maxWidth:550},progressBar:{},progressBarPercent:{marginTop:5,fontSize:14,color:"#AECEA1",textAlign:"start"}})));var c=a(1);const d=Object(i.a)(o.a)((e=>{let{theme:t}=e;return{height:30,borderRadius:5,["&.".concat(s.a.colorPrimary)]:{backgroundColor:t.palette.grey["light"===t.palette.mode?200:800]},["& .".concat(s.a.bar)]:{borderRadius:5,backgroundColor:"green"}}}));var j=()=>{const e=l(),t=window.innerWidth<550?"&nbsp;&nbsp;":"&nbsp;&nbsp;&nbsp;&nbsp;",a="          \ud83e\udd73 \ud83e\udd73 100% target reached  \ud83c\udf89 \ud83c\udf89".replace(/^ +/,(e=>e.replace(/ /g,t)));return Object(c.jsxs)(n.a,{className:e.rootContainer,children:[Object(c.jsx)(n.a,{className:e.title,children:"Fringe rewards program"}),Object(c.jsx)(n.a,{className:e.line2,children:"Milestone 1. 'Seeds of Prosperity'. Lender TVL target 250k USD"}),Object(c.jsx)(n.a,{className:e.line3,children:""}),Object(c.jsxs)(n.a,{className:e.progressBarContainer,children:[Object(c.jsx)(n.a,{className:e.progressBar,children:Object(c.jsx)(d,{variant:"determinate",value:"100"})}),Object(c.jsx)(n.a,{className:e.progressBarPercent,dangerouslySetInnerHTML:{__html:a}})]}),Object(c.jsx)(n.a,{className:e.line4,dangerouslySetInnerHTML:{__html:"Rewards will be airdropped when milestone is reached & after cooldown. <a href='https://fringefinance.medium.com/introducing-fringe-finance-v2-incentive-program-7077a02aa115' target='_blank'>Learn more</a>"}})]})}},1471:function(e,t,a){"use strict";a.r(t),a.d(t,"BorrowerNewDashboard",(function(){return Je}));var n=a(279),i=a(929),o=a(731),s=a(361),r=a.n(s),l=a(917),c=a(349),d=a(1462),j=a(1480),b=a(1474),u=a(1042),m=a(1162),p=a(498),h=a(502),O=a(727),g=a(53),x=a(75),v=a(13),f=a(48),w=a(27),y=a.n(w),T=a(204),k=a(6);var C=()=>{const e=Object(x.b)();return Object(k.get)(e,"totalOutstandingAssets",{})},N=a(371),B=a(0),M=a(80);var R=a(39),L=a(1460),A=a(1461),I=a(224),P=a(840),S=a(1);const D=e=>e<1e-6,F=e=>({container:{display:"flex",flexWrap:"wrap",width:"78%",marginRight:"2%",[e.breakpoints.down("md")]:{width:"100%"}}});var H=e=>{let{debt:t,remaining:a,interest:n}=e;const i=t+a,s=Math.round(Math.max(100*t/i>99&&!D(a)?99:100*t/i,D(t)?0:2)),r=Math.round(Math.max(100*n/i,D(n)?0:2)),l=Object(p.a)((e=>({...F(e),width100:{width:"100%"},totalBar:{border:"1px solid #434343",height:50,width:"100%",borderRadius:10},debtBar:{border:"1px solid #CC0000",height:"95%",width:"".concat(Math.min(100,Math.round(s)),"%"),margin:"1px 0px",padding:"2px 0px",borderRadius:10,position:"relative"},interestBar:{height:"86%",width:"".concat(Math.round(100*Math.min(r,100)/s),"%"),margin:"1px 0px",border:"1px solid #C9DAF8",position:"absolute",right:Math.round(100*r/s)<100?3:"unset",borderRadius:10,left:Math.round(100*r/s)>=100?0:"unset"},title:{color:"white",fontSize:15,fontWeight:400,textAlign:"center",display:"flex",flexWrap:"wrap",justifyContent:"center",width:10},remainingBar:{width:"".concat(Math.round(100-s),"%"),height:"100%",position:"absolute",right:0},debtTitlePos:{position:"absolute",top:"60%",marginLeft:"auto",marginRight:"auto",left:0,right:0},interestTitlePos:{position:"absolute",bottom:"60%",marginLeft:"auto",marginRight:"auto",left:0,right:0},remainingTitlePos:{position:"absolute",top:"17%",marginLeft:"auto",marginRight:"auto",left:0,right:0,[e.breakpoints.down("xs")]:{"& p":{width:Math.round(s)>80&&"100%",display:Math.round(s)>80&&"flex",flexDirection:"column",alignItems:"end"}}},line:{borderLeft:"2px solid white",height:30,zIndex:100},textPosition:{[e.breakpoints.down("md")]:{width:Math.round(s-r/2)<4&&"100%"},[e.breakpoints.down("xs")]:{fontSize:13}},remainingText:{[e.breakpoints.down("xs")]:{fontSize:13}}}))),c=Object(B.useMemo)((()=>{const e=t/(t+a);return[L.a.A400,L.a.A200,L.a.A100,A.a[200],A.a[400],I.a[300],I.a[400],I.a[500],I.a[600],I.a[900]][Math.round(10*e)]}),[t,a]),d=l();return Object(S.jsx)(j.a,{item:!0,md:12,lg:8.5,xl:9,className:d.container,children:Object(S.jsxs)(o.a,{className:d.totalBar,children:[Object(S.jsx)(o.a,{className:d.remainingBar,children:!D(a)&&Object(S.jsxs)("div",{className:"".concat(d.title," ").concat(d.remainingTitlePos),children:[Object(S.jsx)("div",{className:d.line}),Object(S.jsxs)("p",{style:{margin:0},className:d.remainingText,children:["Remaining ",Object(S.jsx)("br",{}),Object(S.jsx)(g.n,{value:a,moneyValue:!0})]})]})}),Object(S.jsxs)(o.a,{className:d.debtBar,style:{borderColor:c},children:[!D(t)&&Object(S.jsxs)("div",{className:"".concat(d.title," ").concat(d.debtTitlePos),children:[Object(S.jsx)("div",{className:d.line}),Object(S.jsxs)("p",{style:{margin:0},className:d.textPosition,children:["Debt ",Object(S.jsx)("br",{}),Object(S.jsx)(g.n,{value:t,moneyValue:!0})]})]}),Object(S.jsx)(o.a,{className:d.interestBar,children:!D(n)&&Object(S.jsxs)("div",{className:"".concat(d.title," ").concat(d.interestTitlePos),children:[Object(S.jsxs)("p",{style:{margin:0},className:d.textPosition,children:["Interest ",Object(S.jsx)("br",{}),Object(S.jsx)(g.n,{value:n,moneyValue:!0})]}),Object(S.jsx)("div",{className:d.line})]})})]})]})})};const V=()=>{const e=Object(p.a)(F)();return Object(S.jsx)(j.a,{item:!0,md:12,lg:8.5,xl:9,className:e.container,children:Object(S.jsx)(P.a,{animation:"wave",variant:"rect",width:"100%"})})};var W=a(1421),E=a(68);const U=Object(p.a)((e=>({title:{fontSize:16,fontFamily:"Mulish",lineHeight:"21px",color:"#434849"},subTitle:{fontSize:26,fontFamily:"Mulish",lineHeight:"36px",color:"#AFB0B1",marginTop:e.spacing(2),[e.breakpoints.down("lg")]:{textOverflow:" ellipsis",overflow:"hidden",whiteSpace:"nowrap"},[e.breakpoints.down("xs")]:{"& span":{fontSize:20,marginTop:e.spacing(1),lineHeight:"30px"}}},divider:{backgroundColor:"#434849",marginLeft:20,marginRight:20,"@media(max-width: 1200px)":{display:"none"}},container:{marginTop:e.spacing(2),marginBottom:e.spacing(2),margin:0,"& > .MuiGrid-item":{paddingTop:0,paddingBottom:0},"& > div:first-child":{position:"relative",padding:"60px 0",flex:1,maxWidth:"100%"},[e.breakpoints.down("md")]:{"& > div:first-child":{flex:"unset"}},[e.breakpoints.up("lg")]:{flexWrap:"nowrap"}},price:{fontSize:52,fontFamily:"Mulish",marginTop:e.spacing(1),lineHeight:"64px"},priceTitle:{fontFamily:"Mulish"}})));var z=()=>{const e=U(),{connected:t}=Object(f.c)(),{pitCollateralBalance:a}=Object(x.b)(),{totalDepositedInUsd:n,totalOutstandingUsd:i,totalAccrualUsd:o,isLoading:s}=(()=>{const e=Object(x.b)(),t=Object(N.a)(),a=C(),n=Object(T.a)(),[i,o]=Object(B.useMemo)((()=>[Object.values(a).reduce(((e,a)=>{const i=Object(k.get)(a,"lendingToken"),o=Object(k.get)(a,"value",0),s=Object(v.a)(o,n[i]),r=new y.a(s).multipliedBy(t[i]);return new y.a(e).plus(r).toString()}),"0"),Object.values(a).reduce(((e,a)=>{const i=Object(k.get)(a,"lendingToken"),o=Object(k.get)(a,"value",0),s=Object(k.get)(a,"loanBody",0),r=new y.a(o).minus(s).toString(),l=Object(v.a)(r,n[i]),c=new y.a(l).multipliedBy(t[i]);return new y.a(e).plus(c).toString()}),"0")]),[t,a,n]),[s,r,l,c]=Object(B.useMemo)((()=>[Object(k.get)(e,"decimalOfContractToken",{}),Object(k.get)(e,"depositedAssets",{}),Object(k.get)(e,"priceOfTokens",{}),Object(k.get)(e,"isLoading")]),[e]);return{isLoading:c,totalDepositedInUsd:Object(B.useMemo)((()=>Object(k.map)(r,((e,t)=>{let{value:a}=e;const n=Object(k.get)(s,t,0),i=Object(k.get)(l,t,M.a.LENDING,0);return+Object(v.a)(a,n)*(null===i||void 0===i?void 0:i.collateral)})).reduce(((e,t)=>e+t),0)),[r,s,l]),tokenIssued:0,totalOutstandingUsd:i,totalAccrualUsd:o}})(),r=Object(B.useMemo)((()=>Object(v.a)(Object(R.b)(Object(k.get)(a,"totals",0)),E.c)),[a]),l=Object(B.useMemo)((()=>t?n:0),[t,n]);return Object(S.jsxs)(S.Fragment,{children:[s&&Object(S.jsx)(q,{}),!s&&+l>0?Object(S.jsxs)(j.a,{item:!0,container:!0,wrap:"wrap",className:e.container,children:[Object(S.jsx)(H,{debt:Number(i-o),interest:Number(o),remaining:Number(r)}),Object(S.jsx)(m.a,{orientation:"vertical",flexItem:!0,className:e.divider}),Object(S.jsx)(j.a,{item:!0,xs:12,lg:3,children:Object(S.jsxs)(W.a,{sx:{display:"inline-block",width:"100%"},mt:3,children:[Object(S.jsx)(O.a,{title:"Current deposited collateral value.",arrow:!0,placement:"top",children:Object(S.jsx)(h.a,{color:"primary",className:e.title,children:"Total Deposited"})}),Object(S.jsx)(h.a,{color:"secondary",className:e.subTitle,children:Object(S.jsx)(g.n,{value:l,moneyValue:!0})})]})})]}):Object(S.jsx)(W.a,{sx:{marginTop:2}})]})};const q=()=>{const e=U();return Object(S.jsxs)(j.a,{item:!0,container:!0,wrap:"wrap",className:e.container,children:[Object(S.jsx)(V,{}),Object(S.jsx)(m.a,{orientation:"vertical",flexItem:!0,className:e.divider}),Object(S.jsx)(j.a,{item:!0,xs:12,lg:3,children:Object(S.jsxs)(W.a,{sx:{display:"inline-block",width:"100%"},mt:3,children:[Object(S.jsx)(O.a,{title:"Current deposited collateral value.",arrow:!0,placement:"top",children:Object(S.jsx)(h.a,{color:"primary",className:e.title,children:"Total Deposited"})}),Object(S.jsx)(P.a,{animation:"wave",variant:"rect"})]})})]})};var _=a(824);Object(p.a)((e=>({container:{marginTop:e.spacing(2),marginBottom:e.spacing(2),"& > .MuiGrid-item":{paddingTop:0,paddingBottom:0}},divider:{backgroundColor:"#434849",marginLeft:20,marginRight:20},title:{fontSize:16,fontFamily:"Mulish",lineHeight:"21px",color:"#434849"},priceTitle:{fontFamily:"Mulish"}})));var G=a(126),J=a(823),Y=a(354);const $=[{address:"0x255b584d5e43c092e209318cbd71971ec05895cd",allowance:!1,balance:"0.0",healthFactor:0,isLeverage:!1,logo:"https://s2.coinmarketcap.com/static/img/coins/64x64/3267.png",lvr:.9,name:"Uniswap V2",price:"0.0",symbol:"PRJ2/PRJ1",type:"projectToken",underlyingTokens:[]},{address:"0x557c9280df3f06d9ebd09985207326c520eab421",allowance:!1,balance:"0.0",healthFactor:0,isLeverage:!1,logo:"https://s2.coinmarketcap.com/static/img/coins/64x64/3267.png",lvr:.9,name:"Uniswap V2",price:"0.0",symbol:"USDC/PRJ1",type:"projectToken",underlyingTokens:[]},{address:"0x78d1f8c7bc0794d59c50abc4f5e74c47b212f402",allowance:!1,balance:"0.0",healthFactor:0,isLeverage:!1,logo:"/assets/coins_list/pjToken.png",lvr:.9,name:"Uniswap V2",price:"0.0",symbol:"PRJ3",type:"projectToken",underlyingTokens:[]},{address:"0x96dc1f009f9e01d15b87f78795b538e5827f365e",allowance:!1,balance:"0.0",healthFactor:0,isLeverage:!1,logo:"/assets/coins_list/pjToken.png",lvr:.9,name:"Uniswap V2",price:"0.0",symbol:"PRJ2",type:"projectToken",underlyingTokens:[]},{address:"0xed9f4c37094ded8a681e0ffcc9f5a7ee5247001a",allowance:!1,balance:"0.0",healthFactor:0,isLeverage:!1,logo:"/assets/coins_list/pjToken.png",lvr:.9,name:"Uniswap V2",price:"0.0",symbol:"PRJ1",type:"projectToken",underlyingTokens:[]}];var Z=a(114),Q=a.n(Z),K=a(182),X=a(71),ee=a(136),te=a(357),ae=a(830);const ne=Object(p.a)((()=>({loading:{"& .MuiLinearProgress-barColorPrimary":{backgroundColor:"#8f9194"}}}))),ie=e=>{let{variant:t}=e;const a=ne();return Object(S.jsx)(o.a,{children:Object(S.jsx)("div",{className:a.loading,children:Object(S.jsx)(ae.a,{variant:t})})})};ie.defaultProps={variant:"query"};var oe=ie;const se=[{Header:()=>Object(S.jsx)(O.a,{title:"Asset that can be deposited as collateral.",arrow:!0,placement:"top",children:Object(S.jsx)(o.a,{display:"inline",children:"Asset"})}),accessor:"name",Cell:e=>{let{value:t,row:{original:{underlyingTokens:a,symbol:n,address:i,name:o}}}=e;return Object(S.jsx)(g.c,{link:"/borrowing/".concat(2===(null===a||void 0===a?void 0:a.length)?"".concat(a[0].symbol,"-").concat(a[1].symbol):n),whiteBg:Object(R.e)(n),symbol:n,address:i,name:o,underlyingTokens:a,children:n})}},{Header:()=>Object(S.jsx)(O.a,{title:"Loan to value ratio for the collateral asset. The maximum borrowing capacity for a given collateral deposit = collateral value * LVR. Each collateral asset has its own LVR.",arrow:!0,placement:"top",children:Object(S.jsx)(o.a,{display:"inline",children:"LVR"})}),accessor:"lvr",props:{align:"right"},Cell:e=>{let{value:t,row:{original:{isPlaceholderData:a,isLoading:n}}}=e;return a&&n?Object(S.jsx)(o.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(S.jsx)("div",{style:{width:"40%"},children:Object(S.jsx)(oe,{color:"primary",variant:"query"})})}):Object(S.jsx)(h.a,{color:"secondary",children:Q()(t).format("0,0%")})}},{Header:()=>Object(S.jsx)(O.a,{title:"Token count and value of the collateral asset held in your external wallet.",arrow:!0,placement:"top",children:Object(S.jsx)(o.a,{display:"inline",children:"Wallet Balance"})}),accessor:"balance",props:{align:"right"},Cell:e=>{let{value:t,row:{original:{symbol:a,balanceInUsd:n,isPlaceholderData:i,isLoading:s}}}=e;return i&&s?Object(S.jsx)(o.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(S.jsx)("div",{style:{width:"20%"},children:Object(S.jsx)(oe,{color:"primary",variant:"query"})})}):t?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{children:Object(S.jsx)(g.n,{value:t,precision:4,suffix:a})}),Object(S.jsx)(h.a,{style:{color:"#A5A8B6"},children:Object(S.jsx)(g.n,{value:n,precision:2,moneyValue:!0})})]}):"-"}}];var re=()=>{const e=Object(ee.d)(),t=Object(X.e)(),{availableDepositTokens:a,isLoading:n,isError:i,isPlaceholderData:s,placeholderDataLoading:r}=Object(x.b)(),{data:l,isLoading:c,error:d}=Object(K.d)(),{isOpen:j,onOpen:b,onClose:u}=Object(f.a)(),[m,p]=Object(B.useState)(null),{account:h}=Object(f.c)(),{decimalOfContractToken:O}=Object(x.b)(),v=Object(B.useCallback)((e=>()=>{p(e),b(),G.a.event({category:"Borrower Dashboard",action:"Deposit"})}),[b]),w=Object(B.useMemo)((()=>[...se,{Header:"",accessor:"button",props:{align:"center"},Cell:t=>{let{row:{index:a,original:{address:n,symbol:i,underlyingTokens:o}}}=t;return Object(S.jsxs)("div",{className:e.actionButtonWrapper,children:[Object(S.jsx)(J.a,{style:{width:80,height:36},className:e.actionButton,onClick:v(a.toString()),children:"Deposit"}),Object(S.jsx)(te.a,{address:n,symbol:i,underlyingTokens:o})]})}}]),[e.actionButtonWrapper,e.actionButton,v]),y=Object(B.useMemo)((()=>{var e;const t=Object(k.get)(a,m,null===a||void 0===a?void 0:a[0]);return{...t,decimal:Object(k.get)(O,[null===t||void 0===t||null===(e=t.address)||void 0===e?void 0:e.toLowerCase()],0)}}),[a,O,m]);return!i&&Object(S.jsxs)(Y.a,{className:e.table,children:[Object(S.jsx)(g.p,{children:"Deposit Collateral"}),Object(S.jsxs)(o.a,{mt:1,children:[!h&&(l&&!c||d?Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(g.w,{columns:w,data:(l?l.projectTokens:$).map((e=>({...e,_chainId:t})))})}):Object(S.jsx)(g.x,{rows:6})),h&&(r?Object(S.jsx)(g.x,{rows:6}):s&&a&&Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(g.w,{columns:w,data:a.map((e=>({...e,_chainId:t,isPlaceholderData:s,isLoading:n})))})})),!r&&!s&&(null!==a&&void 0!==a&&a.length?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(g.w,{columns:w,data:a}),Object(S.jsx)(g.e,{open:j,onClose:u,noPadding:!0,children:Object(S.jsx)(g.d,{data:y,onClose:u})})]}):h&&Object(S.jsx)(g.x,{rows:6}))]})]})},le=a(28),ce=a.n(le),de=a(195);const je=[{Header:()=>Object(S.jsx)(O.a,{title:"List of assets that can be borrowed on the platform. ",arrow:!0,placement:"top",children:Object(S.jsx)(o.a,{display:"inline",children:"Asset"})}),accessor:"symbol",props:{width:150},Cell:e=>{let{value:t,row:{original:{underlyingTokens:a,symbol:n,address:i,name:o}}}=e;return Object(S.jsx)(g.c,{link:"/borrowing/".concat(2===(null===a||void 0===a?void 0:a.length)?"".concat(a[0].symbol,"-").concat(a[1].symbol):n),whiteBg:Object(R.e)(n),symbol:n,address:i,name:o,underlyingTokens:a,children:n})}},{Header:()=>Object(S.jsx)(O.a,{title:"Token count held in your external wallet.",arrow:!0,placement:"top",children:Object(S.jsx)(o.a,{display:"inline",children:"Wallet Balance"})}),accessor:"balanceOf",props:{width:200,align:"center"},Cell:e=>{let{value:t,row:{original:{isPlaceholderData:a,isLoading:n,price:i}}}=e;return a&&n?Object(S.jsx)(o.a,{sx:{display:"flex",justifyContent:"center"},children:Object(S.jsx)("div",{style:{width:"20%"},children:Object(S.jsx)(oe,{color:"primary",variant:"query"})})}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(g.n,{value:t,precision:4}),Object(S.jsx)(h.a,{style:{color:"#A5A8B6"},children:Object(S.jsx)(g.n,{value:((null===i||void 0===i?void 0:i.lending)||0)*t,precision:2,moneyValue:!0})})]})}},{Header:()=>Object(S.jsx)(O.a,{title:"TOTAL lender deposits for this lending pool minus TOTAL outstanding.",arrow:!0,placement:"top",children:Object(S.jsx)(o.a,{display:"inline",children:"Available to borrow"})}),accessor:"cash",props:{align:"right",width:170},Cell:e=>{let{value:t,row:{original:{symbol:a,price:n,priceLoading:i,isPlaceholderData:s,isLoading:r}}}=e;return s&&r?Object(S.jsx)(o.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(S.jsx)("div",{style:{width:"20%"},children:Object(S.jsx)(oe,{color:"primary",variant:"query"})})}):null===t||void 0===t?"-":Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{children:Object(S.jsx)(g.n,{value:t,suffix:a,precision:4})}),i?Object(S.jsx)(o.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(S.jsx)("div",{style:{width:"20%"},children:Object(S.jsx)(oe,{color:"primary",variant:"query"})})}):Object(S.jsx)(h.a,{style:{color:"#A5A8B6"},children:Object(S.jsx)(g.n,{value:((null===n||void 0===n?void 0:n.lending)||n||0)*t,precision:2,moneyValue:!0})})]})}},{Header:()=>Object(S.jsx)(O.a,{title:"TOTAL lender deposits for this lending pool minus TOTAL outstanding.",arrow:!0,placement:"top",children:Object(S.jsx)(o.a,{display:"inline",children:"Borrow APY"})}),accessor:"borrowAPY",props:{align:"center"},Cell:e=>{let{value:t,row:{original:{isPlaceholderData:a,isLoading:n}}}=e;return a&&n?Object(S.jsx)(o.a,{sx:{display:"flex",justifyContent:"center"},children:Object(S.jsx)("div",{style:{width:"40%"},children:Object(S.jsx)(oe,{color:"primary",variant:"query"})})}):Object(S.jsx)(g.n,{value:(null===t||void 0===t?void 0:t.amount)||0,suffix:"%",precision:2})}}];var be=()=>{const e=Object(ee.d)(),{account:t}=Object(f.c)(),a=Object(B.useMemo)((()=>[...je,{Header:"",accessor:"button",props:{align:"center"},Cell:t=>{let{row:{original:{address:a,symbol:n,underlyingTokens:i}}}=t;return Object(S.jsx)("div",{className:e.actionButtonWrapper,children:Object(S.jsx)(te.a,{address:a,symbol:n,underlyingTokens:i})})}}]),[e.actionButtonWrapper]),n=Object(x.b)(),i=Object(B.useMemo)((()=>ce()(n,["cashFToken"],[])),[n]),s=Object(B.useMemo)((()=>ce()(n,["userTokenInfo"],[])),[n]),r=Object(B.useMemo)((()=>ce()(n,["isPlaceholderData"])),[n]),l=Object(B.useMemo)((()=>ce()(n,["placeholderDataLoading"])),[n]),c=Object(B.useMemo)((()=>ce()(n,["isLoading"])),[n]),{getBorrowingApy:d}=Object(de.a)(),{data:j,isLoading:b,error:u}=Object(K.d)(),{isLoading:m,data:p}=Object(K.e)(null===j||void 0===j?void 0:j.lendingTokens),h=Object(B.useMemo)((()=>null!==j&&void 0!==j&&j.lendingTokens?(j.lendingTokens.forEach((e=>{e.price=null===p||void 0===p?void 0:p[e.address],e.priceLoading=m})),j.lendingTokens):null===j||void 0===j?void 0:j.lendingTokens),[j,p,m]);return Object(S.jsxs)(Y.a,{className:e.table,children:[Object(S.jsx)(g.p,{children:"Lending Assets"}),Object(S.jsxs)(o.a,{mt:2,children:[!t&&(j&&!b||u?Object(S.jsx)(g.w,{columns:a,data:h||[{balanceOf:"0.000",symbol:"USDC",logo:"/assets/coins_list/usd-coin.svg"},{balanceOf:"0.000",symbol:"USB",logo:"/assets/images/usb_token.png"}]}):Object(S.jsx)(g.x,{rows:6})),t&&(l?Object(S.jsx)(g.x,{rows:6}):r&&s&&Object(S.jsx)(g.w,{columns:a,data:s.map((e=>({...e,isPlaceholderData:r,isLoading:c})))})),!l&&!r&&(s.length?Object(S.jsx)(g.w,{columns:a,data:s.filter((e=>"lendingToken"===(null===e||void 0===e?void 0:e.type))).map((e=>{const t=d(e.address);return{...e,cash:ce()(i,[e.address,"cash"],0),borrowAPY:t}}))}):t&&Object(S.jsx)(g.x,{rows:6}))]})]})},ue=a(358),me=a(932);const pe=Object(p.a)((e=>({rowItem:{[e.breakpoints.down("sm")]:{display:"block"}}})));var he=()=>{const e=pe(),t=Object(c.a)(),a=Object(d.a)(t.breakpoints.down("sm")),{isLoading:n}=Object(x.b)(),[i]=Object(me.a)(),{lendingTokensObj:s,collateralTokenObj:r}=Object(ue.a)(),l=Object(B.useMemo)((()=>i.some((e=>{var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.loanBalance}))),[i]),j=Object(B.useMemo)((()=>i.map((e=>{var t;const a=Object(k.get)(s,[null===e||void 0===e||null===(t=e.lendingToken)||void 0===t?void 0:t.address,"borrowApy"],0);return{...r[e.address],...e,apy:a}}))),[r,i,s]);return n?Object(S.jsx)(Oe,{}):Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(o.a,{mb:a?10:2,children:Object(S.jsx)(_.a,{container:!0,spacing:a?5:7,children:j.map(((t,n)=>{var i,o,s;const r={...t};return Object(S.jsxs)(_.a,{container:!0,item:!0,className:e.rowItem,spacing:a?0:7,children:[Object(S.jsxs)(_.a,{item:!0,sm:12,md:6,children:[0===n&&Object(S.jsx)(g.p,{children:"Collateral Deposited"}),n>0&&a&&Object(S.jsx)(g.p,{children:"Collateral Deposited"}),Object(S.jsx)(Ee,{data:r,isOpened:+(null===r||void 0===r||null===(i=r.data)||void 0===i?void 0:i.loanBalance)>0&&!(null!==r&&void 0!==r&&r.isLeverage)})]}),Object(S.jsxs)(_.a,{item:!0,sm:12,md:6,children:[0===n&&!a&&l&&Object(S.jsx)(g.p,{children:"Borrowed"}),n>=0&&l&&a&&+(null===r||void 0===r||null===(o=r.data)||void 0===o?void 0:o.loanBalance)>0&&!(null!==r&&void 0!==r&&r.isLeverage)&&Object(S.jsx)(g.p,{children:"Borrowed"}),+(null===r||void 0===r||null===(s=r.data)||void 0===s?void 0:s.loanBalance)>0&&!(null!==r&&void 0!==r&&r.isLeverage)&&Object(S.jsx)(qe,{data:r})]})]},"".concat(null===r||void 0===r?void 0:r.address,"-row"))}))})})})};const Oe=()=>{const e=pe(),t=Object(c.a)(),a=Object(d.a)(t.breakpoints.down("sm"));return Object(S.jsx)(o.a,{mb:a?10:2,children:Object(S.jsx)(_.a,{container:!0,spacing:a?5:7,children:new Array(3).fill(void 0).map(((t,n)=>Object(S.jsxs)(_.a,{container:!0,item:!0,className:e.rowItem,spacing:a?0:7,children:[Object(S.jsxs)(_.a,{item:!0,sm:12,md:6,children:[0===n&&Object(S.jsx)(g.p,{children:"Collateral Deposited"}),n>0&&a&&Object(S.jsx)(g.p,{children:"Collateral Deposited"}),Object(S.jsx)(g.x,{rows:1})]}),Object(S.jsxs)(_.a,{item:!0,sm:12,md:6,children:[0===n&&!a&&Object(S.jsx)(g.p,{children:"Borrowed"}),n>=0&&a&&Object(S.jsx)(g.p,{children:"Borrowed"}),Object(S.jsx)(g.x,{rows:1})]})]})))})})};a(309);var ge=a(8);const xe=Object(p.a)((e=>({button:{padding:0,height:36,width:80,"&:disabled":{background:e.palette.primary.light}}})));var ve=e=>{let{data:t,disabled:a}=e;const n=xe(),i=Object(ee.d)(),{isOpen:o,onOpen:s,onClose:r}=Object(f.a)(),{isOpen:l,onOpen:c,onClose:d}=Object(f.a)();return Object(S.jsxs)("div",{className:i.actionButtonWrapper,children:[Object(S.jsx)(J.a,{className:Object(ge.default)(n.button,i.actionButton),onClick:()=>{c(),G.a.event({category:"Borrower Dashboard",action:"Borrow"})},disabled:a,children:"Borrow"}),Object(S.jsx)(J.a,{className:Object(ge.default)(n.button,i.actionButton),onClick:()=>{s(),G.a.event({category:"Borrower Dashboard",action:"Withdraw"})},disabled:a,children:"Withdraw"}),Object(S.jsx)(te.a,{address:null===t||void 0===t?void 0:t.address,symbol:t.symbol,underlyingTokens:t.underlyingTokens}),Object(S.jsx)(g.e,{open:o,onClose:r,noPadding:!0,children:Object(S.jsx)(g.z,{data:t,onClose:r})}),Object(S.jsx)(g.t,{open:l,onClose:d,data:t})]})},fe=a(1135),we=a(826);const ye=Object(p.a)((e=>({logsTable:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),paddingTop:e.spacing(3)},tableCell:{paddingBottom:e.spacing(2),paddingRight:e.spacing(3)},buttonColumn:{textAlign:"center"},button:{marginBottom:10,fontWeight:600},text:{[e.breakpoints.down("sm")]:{fontSize:13}}})));var Te,ke,Ce=e=>{let{logs:t}=e;const a=ye(),[n,i]=Object(f.b)(!1),[o,s]=Object(B.useState)(t.slice(0,5));return Object(B.useEffect)((()=>{s(n?t:t.slice(0,5))}),[n,t]),Object(S.jsxs)("table",{className:a.logsTable,children:[o.map((e=>{let{date:t,amount:n,asset:i,type:o}=e;return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:a.tableCell,children:Object(S.jsx)(h.a,{color:"secondary",className:a.text,children:Object(fe.a)(1e3*t,"dd.MM.yyyy hh:mm a ")})}),Object(S.jsx)("td",{className:a.tableCell,children:n?Object(S.jsx)(h.a,{color:"secondary",className:a.text,children:Object(S.jsx)(g.n,{value:n,suffix:i,precision:2})}):"-"}),Object(S.jsx)("td",{className:a.tableCell,children:Object(S.jsx)(h.a,{color:"secondary",className:a.text,children:o})})]},t)})),t.length>5&&Object(S.jsx)("tr",{children:Object(S.jsx)("td",{className:a.buttonColumn,colSpan:3,children:Object(S.jsx)(we.a,{component:"button",href:"/",onClick:i,className:a.button,children:n?"Show less":"Show more"})})})]})},Ne=a(725),Be=a(1163),Me=a.n(Be),Re=a(84);function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Le.apply(this,arguments)}function Ae(e,t){let{title:a,titleId:n,...i}=e;return B.createElement("svg",Le({width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},i),a?B.createElement("title",{id:n},a):null,Te||(Te=B.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 12L20.9 13.1L26.9 19.2H10V20.8H26.9L20.9 26.9L22 28L30 20L22 12Z",fill:"#6A6872"})),ke||(ke=B.createElement("rect",{x:.5,y:.5,width:39,height:39,rx:19.5,stroke:"#434849"})))}const Ie=B.forwardRef(Ae);var Pe;a.p;function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Se.apply(this,arguments)}function De(e,t){let{title:a,titleId:n,...i}=e;return B.createElement("svg",Se({width:10,height:7,viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},i),a?B.createElement("title",{id:n},a):null,Pe||(Pe=B.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 6.3499L10 1.3499L9.3 0.649902L5 4.9499L0.7 0.649903L6.11959e-08 1.3499L5 6.3499Z",fill:"#ffffff"})))}const Fe=B.forwardRef(De);a.p;var He=a(918),Ve=a(79);const We=Object(p.a)((e=>({table:{"& th":{whiteSpace:"nowrap"}},tableWrapper:{position:"relative"},opened:{transform:"scale(-1)"},coinInfoCell:{display:"flex"},chevronButton:{paddingLeft:0},coinInfoWrapper:{minWidth:146},leverageButton:{position:"absolute",overflow:"hidden",transition:e.transitions.main,borderRadius:50,minWidth:40,width:40,height:40,paddingLeft:10,paddingRight:10,top:56,left:"calc(100% + 8px)","& $hiddenText":{textWrap:"nowrap"},"& .MuiButton-startIcon":{position:"absolute",left:10,margin:0},"&:hover":{transition:e.transitions.main,width:150,"&.lg":{width:190},"& $hiddenText":{transition:"all 1.5s",opacity:1}},[e.breakpoints.down("sm")]:{left:"50%",top:"100%",marginTop:"7px","&:hover":{left:"40%"}}},addButton:{position:"absolute",overflow:"hidden",transition:e.transitions.main,borderRadius:50,minWidth:40,width:40,height:40,paddingLeft:10,paddingRight:10,top:56,left:"calc(100% + 8px)","& .MuiButton-startIcon":{position:"absolute",left:10,margin:0},"&:hover":{transition:e.transitions.main,width:90,"& $hiddenText":{transition:e.transitions.main,opacity:1}},[e.breakpoints.down("sm")]:{left:"50%",top:"100%",marginTop:"7px"}},hiddenText:{position:"absolute",left:30,opacity:0,transition:e.transitions.main},arrowButton:{background:"transparent",zIndex:999,"& .MuiButton-startIcon":{visibility:"hidden"},"&:hover":{width:40,"& .MuiButton-startIcon":{visibility:"visible"},"& $hiddenIcon":{visibility:"hidden"}}},hiddenIcon:{paddingTop:7},title:{color:"#4F4F4F",fontSize:14,fontWeight:500,marginRight:40,[e.breakpoints.down("sm")]:{fontSize:12}},tableHeading:{borderBottom:"1px solid #434849",marginLeft:0},paper:{width:"100%"},arrow:{[e.breakpoints.down("sm")]:{rotate:"90deg"}},subRowText:{[e.breakpoints.down("sm")]:{fontSize:13}}})));var Ee=e=>{var t;let{data:a,isOpened:n}=e;const i=We(),s=Object(ee.d)(),{isOpen:r,onOpen:l,onClose:c}=Object(f.a)(),d=Object(x.b)(),j=Object(Ve.g)(),b=Object(B.useMemo)((()=>[{Header:()=>Object(S.jsx)(o.a,{ml:2,children:Object(S.jsx)(O.a,{title:"Deposited collateral asset.",arrow:!0,placement:"top",children:Object(S.jsx)(o.a,{display:"inline",children:"Asset"})})}),accessor:"symbol",Cell:e=>{let{value:t,row:{original:{healthFactor:a,underlyingTokens:n=[],lendingTokenData:o,evaluation:s,symbol:r,address:l,name:c},getToggleRowExpandedProps:d,isExpanded:j}}=e;return Object(S.jsxs)("div",{className:i.coinInfoCell,children:[Object(S.jsx)(Ne.a,{...d(),className:i.chevronButton,children:Object(S.jsx)(Fe,{className:Object(ge.default)({[i.opened]:j})})}),Object(S.jsx)("div",{className:i.coinInfoWrapper,children:Object(S.jsx)(g.c,{link:"/borrowing/".concat(2===(null===n||void 0===n?void 0:n.length)?"".concat(n[0].symbol,"-").concat(n[1].symbol):r),whiteBg:Object(R.e)(r),healthFactor:+a||null,symbol:r,address:l,name:c,underlyingTokens:n,currentPrice:o?Number(o.evaluation)/Number(s):0,lendingSymbol:null===o||void 0===o?void 0:o.symbol,children:t})})]})}},{Header:()=>Object(S.jsx)(O.a,{title:"Loan to Value Ratio for the collateral asset. The maximum borrowing capacity for a given collateral deposit = collateral value * LVR. Each collateral asset has its own LVR.",arrow:!0,placement:"top",children:Object(S.jsx)(o.a,{display:"flex",alignItems:"center",children:"LVR"})}),accessor:"lvr",Cell:e=>{let{row:{original:{data:{lvr:t}}}}=e;return Object(S.jsx)(h.a,{color:"secondary",children:Q()(t.decimal).format("0,0%")})}},{Header:()=>Object(S.jsx)(O.a,{title:"Token count and balance amount of the collateral you have deposited.",arrow:!0,placement:"top",children:Object(S.jsx)(o.a,{children:"Collateral Balance"})}),accessor:"collateralBalance",Cell:e=>{let{row:{original:{data:{collateralBalance:t}}}}=e;if(!t)return null;const[a,n,i]=t;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(g.n,{value:a,suffix:n,precision:4}),Object(S.jsx)(h.a,{className:s.dollarText,children:Object(S.jsx)(g.n,{value:null===i||void 0===i?void 0:i.rounded,precision:2,moneyValue:!0})})]})}},{Header:()=>Object(S.jsx)(O.a,{title:"Remaining borrowing capacity for this collateral deposit. Equals Collateral Value * LVR  minus any outstanding loan amount. Avoid too a high a borrowing balance so as to avoid liquidations of your position in adverse market conditions. ",arrow:!0,placement:"top",children:Object(S.jsxs)(o.a,{children:["Remaining",Object(S.jsx)("br",{})," Loan Capacity"]})}),accessor:"pitRemaining",Cell:e=>{var t,a,i;let{row:{original:{data:{pitRemaining:o,pitCollateral:r},lendingToken:l}}}=e;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(g.n,{value:n?null===o||void 0===o||null===(t=o.decimal)||void 0===t?void 0:t.toString():null===r||void 0===r||null===(a=r.decimal)||void 0===a?void 0:a.toString(),precision:2,suffix:n?null===l||void 0===l?void 0:l.symbol:"PIT"}),n?Object(S.jsx)(h.a,{className:s.dollarText,children:Object(S.jsx)(g.n,{value:(null===o||void 0===o||null===(i=o.decimal)||void 0===i?void 0:i.toString())*(null===l||void 0===l?void 0:l.price),precision:2,moneyValue:!0})}):null]})}},{Header:"",accessor:"actions",props:{align:"left"},Cell:e=>{let{row:{original:t}}=e;return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(ve,{data:t,disabled:t.isLeverage})})}}]),[i,n]),{borrowLogs:u}=Object(de.a)(),[m]=Object(me.a)(),{enqueueSnackbar:p}=Object(Re.b)(),w=()=>{null!==a&&void 0!==a&&a.isLeverage?p("That is Leverage Position!",{variant:"warning",autoHideDuration:5e3}):(l(),G.a.event({category:"Borrower Dashboard",action:"Borrow"}))};return Object(S.jsxs)("div",{className:i.tableWrapper,children:[Object(S.jsx)(Y.a,{className:Object(ge.default)(i.paper,s.table),children:Object(S.jsx)(g.w,{columns:b,data:[a],className:i.table,renderRowSubComponent:e=>{let{row:t}=e;const a=ce()(t,["original","address"],""),n=ce()(u,[a],[]).sort(((e,t)=>t.date-e.date)),r=m.find((e=>e.address===a)),l=ce()(d,["liquidationThresholdList"],[]).find((e=>e.collateralToken===a&&+e.value>0)),{data:{totalOutstanding:c}}=t.original;return Object(S.jsx)(o.a,{mt:2,children:Object(S.jsxs)(_.a,{container:!0,className:s.table,children:[Object(S.jsxs)(_.a,{item:!0,md:12,container:!0,spacing:4,className:i.tableHeading,children:[Object(S.jsxs)(_.a,{item:!0,children:[Object(S.jsx)(h.a,{color:"primary",className:i.title,children:"Deposit Date"}),Object(S.jsx)(h.a,{color:"secondary",className:i.subRowText,children:Object(fe.a)(1e3*ce()(n,[0,"date"],0),"dd.MM.yyyy hh:mm a ")})]}),Object(S.jsxs)(_.a,{item:!0,children:[Object(S.jsx)(h.a,{color:"primary",className:i.title,children:"Liquidation Threshold"}),Object(S.jsxs)(h.a,{color:"secondary",className:i.subRowText,children:[Object(S.jsx)(g.n,{value:Object(v.a)(ce()(l,["value"],0),E.c),precision:2}),Object(S.jsx)("span",{children:" | "}),Object(S.jsx)(g.n,{value:c.rounded||"0",precision:2})]})]}),Object(S.jsxs)(_.a,{item:!0,children:[Object(S.jsx)(h.a,{color:"primary",className:i.title,children:"PIT Issued"}),Object(S.jsx)(h.a,{color:"secondary",className:i.subRowText,children:Object(S.jsx)(g.n,{value:ce()(r,["issuedInUsd"],0),suffix:"PIT",precision:2})})]})]}),Object(S.jsx)(_.a,{item:!0,children:Object(S.jsx)(Ce,{logs:n})})]})})}})}),null!==a&&void 0!==a&&a.isLeverage?Object(S.jsx)(J.a,{startIcon:Object(S.jsx)(Me.a,{}),className:[i.leverageButton,s.actionButton,(null===a||void 0===a?void 0:a.leverageType)===He.a.MARGIN_TRADE?"lg":""],onClick:()=>{(null===a||void 0===a?void 0:a.leverageType)===He.a.MARGIN_TRADE?j.push("/margin-trade"):j.push("/amplify")},children:(null===a||void 0===a?void 0:a.leverageType)===He.a.MARGIN_TRADE?Object(S.jsx)("span",{className:i.hiddenText,children:"View on Margin Trade"}):Object(S.jsx)("span",{className:i.hiddenText,children:"View on Amplify"})}):Object(S.jsx)(S.Fragment,{children:null!==a&&void 0!==a&&null!==(t=a.data)&&void 0!==t&&t.lendingAsset?Object(S.jsx)(J.a,{startIcon:Object(S.jsx)(Me.a,{}),className:Object(ge.default)(i.addButton,i.arrowButton,s.actionButton),onClick:w,children:Object(S.jsx)("span",{className:i.hiddenIcon,children:Object(S.jsx)(Ie,{className:i.arrow})})}):Object(S.jsx)(J.a,{startIcon:Object(S.jsx)(Me.a,{}),className:Object(ge.default)(i.addButton,s.actionButton),onClick:w,children:Object(S.jsx)("span",{className:i.hiddenText,children:"Borrow"})})}),Object(S.jsx)(g.t,{open:r,onClose:c,data:a})]})},Ue=a(255);const ze=Object(p.a)((e=>({table:{".MuiTableCell-head.MuiTableCell-sizeSmall":{padding:8},"& th:nth-child(3)":{minWidth:130},"& th:nth-child(4)":{minWidth:150}},opened:{transform:"scale(-1)"},coinInfoCell:{display:"flex"},chevronButton:{paddingLeft:0,paddingRight:6},coinInfoWrapper:{},tableHeading:{marginLeft:0},title:{color:"#4F4F4F",fontSize:14,fontWeight:500,[e.breakpoints.down("sm")]:{fontSize:12}},subRowText:{[e.breakpoints.down("sm")]:{fontSize:13}}})));var qe=e=>{var t;let{data:a}=e;const n=ze(),i=Object(ee.d)(),{isOpen:s,onOpen:r,onClose:l}=Object(f.a)(),{data:c}=Object(Ue.b)(),{getBorrowingApy:d}=Object(de.a)(),j=Object(B.useMemo)((()=>{var e;return d(null===a||void 0===a||null===(e=a.lendingToken)||void 0===e?void 0:e.address)}),[null===a||void 0===a||null===(t=a.lendingToken)||void 0===t?void 0:t.address,d]),b=Object(B.useMemo)((()=>({...a,apy:Object(k.get)(j,"amount")||(null===a||void 0===a?void 0:a.apy)})),[j,a]),[u,m]=Object(B.useMemo)((()=>[Object(k.get)(b,["lendingToken","decimal"],"0"),Object(k.get)(b,["lendingToken","address"],"0")]),[b]),[p]=Object(B.useMemo)((()=>{var e,t;return[null===(e=Object(k.get)(c,["priceLendingToken"],[]))||void 0===e||null===(t=e.find((e=>e.lendingToken===m)))||void 0===t?void 0:t.price]}),[c,m]),x=Object(B.useCallback)((()=>{r(),G.a.event({category:"Borrower Dashboard",action:"Repay"})}),[r]),v=Object(B.useMemo)((()=>[{Header:()=>Object(S.jsx)(O.a,{title:"Borrowed asset.",arrow:!0,placement:"top",children:Object(S.jsx)(o.a,{display:"inline",children:"Asset"})}),accessor:"asset",Cell:e=>{let{row:{original:t,getToggleRowExpandedProps:a,isExpanded:i}}=e;const o=Object(B.useMemo)((()=>Object(k.get)(t,["lendingToken","symbol"])),[t]),s=Object(B.useMemo)((()=>Object(k.get)(t,["lendingToken","name"])),[t]),r=Object(B.useMemo)((()=>Object(k.get)(t,["lendingToken","address"])),[t]),l=Object(B.useMemo)((()=>Object(k.get)(t,["lendingToken","underlyingTokens"],[])),[t]);return Object(S.jsxs)("div",{className:n.coinInfoCell,children:[Object(S.jsx)(Ne.a,{...a(),className:n.chevronButton,children:Object(S.jsx)(Fe,{className:Object(ge.default)({[n.opened]:i})})}),Object(S.jsx)("div",{className:n.coinInfoWrapper,children:Object(S.jsx)(g.c,{link:"/borrowing/".concat(2===(null===l||void 0===l?void 0:l.length)?"".concat(l[0].symbol,"-").concat(l[1].symbol):o),whiteBg:Object(R.e)(o),symbol:o,address:r,name:s,underlyingTokens:l,children:Object(S.jsx)("span",{className:"lending-token-name",children:o})})})]})}},{Header:()=>Object(S.jsx)(O.a,{title:"LVR",arrow:!0,placement:"top",children:Object(S.jsx)(o.a,{display:"inline",children:"LVR"})}),accessor:"lvr",props:{width:150},Cell:e=>{let{row:{original:t}}=e;const a=Object(B.useMemo)((()=>Object(k.get)(t,["lendingToken","lvr"])),[t]);return Object(S.jsx)(h.a,{color:"secondary",children:Q()(a).format("0,0%")})}},{Header:()=>Object(S.jsx)(O.a,{title:"Accrued interest against the loan position. (Accruals are repaid first whenever you make a repayment.)",arrow:!0,placement:"top",children:Object(S.jsx)(o.a,{children:"Accrual"})}),accessor:"accrual",props:{width:150},Cell:e=>{let{row:{original:{data:{accrual:t,lendingAsset:a}}}}=e;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(g.n,{value:(null===t||void 0===t?void 0:t.decimal)||0,precision:2,suffix:a}),Object(S.jsx)(h.a,{className:i.dollarText,children:Object(S.jsx)(g.n,{value:((null===t||void 0===t?void 0:t.decimal)||0)*p,precision:2,moneyValue:!0})})]})}},{Header:()=>Object(S.jsx)(O.a,{title:"Your outstanding loan amount including accrued interest.",arrow:!0,placement:"top",children:Object(S.jsxs)(o.a,{children:["Total ",Object(S.jsx)("br",{}),"Outstanding"]})}),accessor:"totalOutstanding",props:{width:90},Cell:e=>{let{row:{original:{data:{totalOutstanding:t,lendingAsset:a}}}}=e;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(o.a,{children:Object(S.jsx)(g.n,{suffix:a,value:(null===t||void 0===t?void 0:t.decimal)||"0.00",precision:4})}),Object(S.jsx)(o.a,{className:i.dollarText,children:Object(S.jsx)(g.n,{value:(null===t||void 0===t?void 0:t.decimal)*p||"0.00",precision:2,moneyValue:!0})})]})}},{Header:"",accessor:"button",props:{align:"center"},Cell:e=>{let{row:{original:{lendingToken:{address:t,symbol:a,underlyingTokens:n}}}}=e;return Object(S.jsxs)("div",{className:i.actionButtonWrapper,children:[Object(S.jsx)(J.a,{className:i.actionButton,style:{height:36,width:80},onClick:x,children:"Repay"}),Object(S.jsx)(te.a,{address:t,symbol:a,underlyingTokens:n})]})}}]),[n.chevronButton,n.coinInfoCell,n.coinInfoWrapper,n.opened,x,u]);return Object(S.jsxs)(Y.a,{className:i.table,children:[Object(S.jsx)(g.w,{columns:v,data:[b],renderRowSubComponent:e=>{let{row:t}=e;const{apy:a,data:s}=t.original,r=Object(k.get)(s,"loanBalance",0);return Object(S.jsx)(o.a,{my:2,children:Object(S.jsx)(_.a,{container:!0,className:i.table,children:Object(S.jsxs)(_.a,{item:!0,md:12,container:!0,spacing:4,className:n.tableHeading,children:[Object(S.jsxs)(_.a,{item:!0,children:[Object(S.jsx)(h.a,{color:"primary",className:n.title,children:"APY"}),Object(S.jsx)(h.a,{color:"secondary",className:n.subRowText,children:Object(S.jsx)(g.n,{value:a||"",suffix:"%"})})]}),Object(S.jsxs)(_.a,{item:!0,children:[Object(S.jsx)(h.a,{color:"primary",className:n.title,children:"Loan Balance"}),Object(S.jsx)(h.a,{color:"secondary",className:n.subRowText,children:Object(S.jsx)(g.n,{value:r||"0",precision:2})})]})]})})})},className:n.table}),Object(S.jsx)(g.e,{open:s,onClose:l,noPadding:!0,children:Object(S.jsx)(g.r,{data:b,onClose:l})})]})};const _e=Object(b.a)((()=>({container:{"& > div.MuiGrid-item":{paddingRight:0},minHeight:"auto !important"}})));var Ge=()=>{const e=Object(c.a)(),t=Object(d.a)(e.breakpoints.down("sm")),a=_e();return Object(S.jsxs)(o.a,{my:3,children:[Object(S.jsxs)(r.a,{children:[Object(S.jsx)("title",{children:"Borrow against your crypto assets | Fringe Finance"}),Object(S.jsx)("meta",{name:"description",content:"Borrowing capital is easy! Use your crypto as collateral to get a loan instantly"}),Object(S.jsx)("meta",{property:"og:title",content:"Borrow stablecoins and other assets against your crypto"}),Object(S.jsx)("meta",{property:"og:description",content:"Borrowing stablecoin capital and other assets is easy! Use your crypto as collateral to get a loan instantly."}),Object(S.jsx)("meta",{property:"og:image",content:l.a})]}),Object(S.jsx)(o.a,{children:Object(S.jsx)("h1",{children:"Borrow against your crypto assets"})}),Object(S.jsx)(u.a,{}),Object(S.jsx)(j.a,{container:!0,spacing:3,sx:{minHeight:"auto !important"},className:a.container,children:Object(S.jsx)(z,{})}),Object(S.jsx)(o.a,{my:3,children:Object(S.jsx)(j.a,{container:!0,sx:{overflow:"hidden"},children:Object(S.jsx)(j.a,{item:!0,xs:12,children:Object(S.jsx)(he,{})})})}),Object(S.jsx)(o.a,{my:3,children:Object(S.jsxs)(j.a,{container:!0,className:a.container,spacing:t?4:6,children:[Object(S.jsx)(j.a,{item:!0,xs:12,md:6,children:Object(S.jsx)(re,{})}),Object(S.jsx)(j.a,{item:!0,xs:12,md:6,children:Object(S.jsx)(be,{})})]})})]})};const Je=Object(i.a)((()=>Object(S.jsx)(n.a,{children:Object(S.jsx)(Ge,{})})));t.default=Je},907:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var n=a(15),i=a(78),o=a(35),s=a(27),r=a.n(s),l=a(13),c=a(195),d=a(180),j=a(30),b=a(6),u=a(25),m=a(49),p=a(29),h=a(20),O=a(24),g=a(0),x=a(259),v=a(116),f=a(83);const w=e=>{let{contractRefs:t=[],methodName:a,resultInRaw:n}=e;return Object(b.flatten)(t.map((e=>{const t=Object(b.get)(n,[e],[]),i=Object(b.groupBy)(t,"methodName");return[...Object(b.get)(i,a,[])].map((e=>({...e,contractAddress:e.contract.address})))})))},y=()=>{const{availableBorrowTokens:e}=Object(c.a)(),{account:t,chainId:a,provider:s}=Object(j.a)(),{callRequest:y,multiCallSMC:T}=Object(d.a)(),{PriceContract:k}=Object(f.a)(),{data:{PitContract:C}}=Object(v.a)(),N=Object(g.useMemo)((()=>e.map((e=>e.address))),[e]),{refetch:B}=Object(x.a)(N),M=Object(u.useQuery)(["f-token-info",t,a,N.sort().toString()],(async()=>{var c;const{data:d}=await B(),j=await(async e=>{let{availableBorrowTokens:t,account:a,PriceContract:o,MultiCallContract:s,pythData:r}=e;const l=[Object(p.generateMulticallRequest)(s,n.MulticallMethod.getEthBalance,[a],s.address,O.ContractName.MultiCallContract)],c=[];for(let d=0;d<t.length;d+=1){const e=t[d],s=new i.b(e.address,m.b),j=[Object(p.generateMulticallRequest)(s,n.ERC20TokenMethod.balanceOf,[a],s.address,s.address),Object(p.generateMulticallRequest)(s,n.ERC20TokenMethod.decimals,[],s.address,s.address),Object(p.generateMulticallRequest)(s,n.ERC20TokenMethod.name,[],s.address,s.address),Object(p.generateMulticallRequest)(s,n.ERC20TokenMethod.symbol,[],s.address,s.address)];l.push(...j),c.push(Object(p.generateMulticallRequest)(o,n.PriceContractMethod.getUpdatedPriceMethod,[e.address,null===r||void 0===r?void 0:r.priceIds,null===r||void 0===r?void 0:r.updateData],e.address,O.ContractName.PriceContract,null===r||void 0===r?void 0:r.payableAmount))}return[...l,...c]})({PitContract:C,availableBorrowTokens:e,account:t,provider:s,PriceContract:k,MultiCallContract:T,pythData:d}),u=await y(j),g=null===(c=w({contractRefs:[O.ContractName.MultiCallContract],methodName:n.MulticallMethod.getEthBalance,resultInRaw:u}).map((e=>{const t=Object(b.get)(e,["returnValues",0],o.a.from(0));return{formatted:Object(l.c)(t/10**18),value:t}}))[0])||void 0===c?void 0:c.formatted,x=w({contractRefs:[O.ContractName.PriceContract],methodName:n.PriceContractMethod.getUpdatedPriceMethod,resultInRaw:u}).map((e=>{const t=Object(b.get)(e,["returnValues",0],0),a=Object(b.get)(e,["returnValues",3],0),n=Object(b.get)(e,["reference"],"");return{price:Object(l.a)(a,t),lendingToken:n}})),v=e.map((e=>({lendingToken:e.address,ftoken:e.fTokenAddress}))),f=w({contractRefs:e.map((e=>e.address)),methodName:n.ERC20TokenMethod.decimals,resultInRaw:u}).map((e=>({token:Object(b.get)(e,"contractAddress",""),value:o.a.from(Object(b.get)(e,["returnValues"],"")).toString()})));return{fTokens:v,balanceOfLendingToken:w({contractRefs:e.map((e=>e.address)),methodName:n.ERC20TokenMethod.balanceOf,resultInRaw:u}).map(((t,n)=>{const i=Object(b.get)(t,"contractAddress",""),o=Object(h.g)(i,a)?g:Object(l.a)(Object(b.get)(t,["returnValues",0],""),f[n].value),s=x.find((e=>e.lendingToken===i)),c=e.find((e=>e.address===i));return{token:i,balance:o,balanceInUsd:new r.a(o).multipliedBy(null===s||void 0===s?void 0:s.price).toString(),decimal:f[n].value,priceInfo:s,...Object(h.h)(c,a)}})),priceLendingToken:x}}),{enabled:!Object(b.isEmpty)(e)&&!!C&&!!k});return M};var T=a(255),k=a(1);const C=e=>{let{children:t}=e;const a=y();return Object(k.jsx)(T.a.Provider,{value:a,children:t})}},917:function(e,t,a){"use strict";t.a=a.p+"static/media/meta-img.0f90e844.png"},918:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={AMPLIFY:0,MARGIN_TRADE:1}},929:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(824),i=a(498),o=a(1476),s=a(70),r=a(53),l=a(200),c=a(907),d=a(48),j=a(1);const b=Object(i.a)({alert:{justifyContent:"center"}});var u=e=>()=>{const t=b(),{connected:a,account:i,connecting:u,isNetworkUnsupported:m}=Object(d.c)();return i&&a?a&&m?Object(j.jsx)(n.a,{container:!0,justifyContent:"center",children:Object(j.jsx)(n.a,{item:!0,md:4,children:Object(j.jsx)(o.a,{variant:"filled",severity:"error",icon:!1,className:t.alert,children:s.b})})}):u?Object(j.jsx)(r.v,{}):Object(j.jsx)(l.a,{children:Object(j.jsx)(c.a,{children:Object(j.jsx)(e,{})})}):Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(e,{})})}},932:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(0),i=a(27),o=a.n(i),s=a(68),r=a(13),l=a(358),c=a(6);const d=()=>{const{collateralList:e,lendingTokensObj:t}=Object(l.a)(),a=Object(n.useMemo)((()=>e.filter((e=>e.depositedAmount>0)).map((e=>{var a,n,i;const{depositedAmount:l,price:c,lvr:d,lendingToken:j,decimal:b,healthFactor:u,pitRemaining:m,pitCollateral:p,loanBody:h,accrual:O,accrualBN:g,outstanding:x,outstandingBN:v,pitRemainingBN:f,...w}=e,y=new o.a(f).div(null!==d&&void 0!==d?d:1).div(null!==c&&void 0!==c?c:1).dividedToIntegerBy(1).toString(),T=Object(r.a)(y,s.c);return{...w,issuedInUsd:c*d*l,tokenIssued:d*l,healthFactor:+u,prjAmount:l,lendingToken:null===(a=t[j])||void 0===a?void 0:a[0],data:{lendingAsset:null===(n=t[j])||void 0===n||null===(i=n[0])||void 0===i?void 0:i.symbol,collateralBalance:[l,null===e||void 0===e?void 0:e.symbol,{rounded:l*c}],price:c,lvr:{decimal:d},currentBorrowingLevel:null,pitRemaining:{decimal:m,rounded:m},pitCollateral:{decimal:+p,rounded:+p},loanBalance:h,loanBalanceRaw:e.loanBodyBN,accrual:{decimal:O,rounded:O,rawBN:g},totalOutstanding:{decimal:x,rawBN:v},prjRemaining:{decimal:T,rounded:T,BN:y}}}}))),[e,t]);return[a,Object(c.sumBy)(a,"issuedInUsd")]}}}]);
//# sourceMappingURL=10.56b37d80.chunk.js.map